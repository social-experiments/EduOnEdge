using CapDeviceManager.Utils;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading;
using System.Threading.Tasks;
using Newtonsoft.Json;

namespace CapDeviceManager.Models
{
    public class AccessTokenModel
    {
        [JsonProperty(PropertyName = "accessToken")]
        public string AccessToken { get; set; }

        [JsonProperty(PropertyName = "expiresOn")]
        public string ExpiresOn { get; set; }
    }
}

/*
c:\Program Files (x86)\Microsoft SDKs\Azure\CLI2>az account get-access-token
{
  "accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InBpVmxsb1FEU01LeGgxbTJ5Z3FHU1ZkZ0ZwQSIsImtpZCI6InBpVmxsb1FEU01LeGgxbTJ5Z3FHU1ZkZ0ZwQSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDcvIiwiaWF0IjoxNTc4OTQ3MDczLCJuYmYiOjE1Nzg5NDcwNzMsImV4cCI6MTU3ODk1MDk3MywiX2NsYWltX25hbWVzIjp7Imdyb3VwcyI6InNyYzEifSwiX2NsYWltX3NvdXJjZXMiOnsic3JjMSI6eyJlbmRwb2ludCI6Imh0dHBzOi8vZ3JhcGgud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3VzZXJzLzNjZjIwZWEyLTdlNjctNDk2OC05ODU5LTMyMjkxYjRlZjM2OS9nZXRNZW1iZXJPYmplY3RzIn19LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOE9BQUFBMERPakFhL3dkaWsxRnpoVmtsRXByZlUrSkM4SnhYcFlEbDFxeWtCcW5iYjdsRVh3alcwMkNpVVVoays0R3FqYS84eWxqLzUrRkhYRmMvMGU5NHU1cDViOS9CTVAzaGY1M3lZSlFOTW53ZkE9IiwiYW1yIjpbInJzYSIsIm1mYSJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImRldmljZWlkIjoiMjFhOWEwMmMtNTcxYi00ODdhLTg3Y2QtNWRiNmZlMzg0NjU5IiwiZmFtaWx5X25hbWUiOiJTb21hc3VuZGFyYW0iLCJnaXZlbl9uYW1lIjoiU2FyYXZhbmFuIiwiaXBhZGRyIjoiMTMxLjEwNy4xNzQuMzkiLCJuYW1lIjoiU2FyYXZhbmFuIFNvbWFzdW5kYXJhbSIsIm9pZCI6IjNjZjIwZWEyLTdlNjctNDk2OC05ODU5LTMyMjkxYjRlZjM2OSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS0yMTI3NTIxMTg0LTE2MDQwMTI5MjAtMTg4NzkyNzUyNy00ODIxMjU3IiwicHVpZCI6IjEwMDMzRkZGODAxQkQ2MUQiLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzdWIiOiI5eWZGcndKdUJUUDRIeldGUTN3b3RWS25ZOWVLaGMtdGVSMXViRzFqRzhvIiwidGlkIjoiNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3IiwidW5pcXVlX25hbWUiOiJzYXJzb21hQG1pY3Jvc29mdC5jb20iLCJ1cG4iOiJzYXJzb21hQG1pY3Jvc29mdC5jb20iLCJ1dGkiOiJjaDNnbnNRUlkwU1U1MFpKd0hHcEFBIiwidmVyIjoiMS4wIn0.y47-BqloeIK13eLfDAdiYEqUqm9N3PFi1ZPWNKRLP_eaj9iqOnU-M3lg5_3KoFYqbDrYDb9FqDs6_bP2IZEIZU7k2GKcYgcDLU0Ga9fCAgM1WyCJSe_PuiTS8Cgtw9_bTvvY2qeNHPl1Klu7bSD_FO5scwQuikJgKt3XAA8NnAGw7JFifEyvAJfbaRws6nh4cG0DcmrFOU2DSblSsG2d4Ryt_6dBU90RHkZjdlI5x06wdUG07ZS01K7pt4WUECQc9snRqplHR_mFqpuN7tVNrdSDuaWTF71vlEyVDoPGsaQ9C8b97v2hCqDo62dU328PzOmOPTEsITIqpfH0HvnBpQ",
  "expiresOn": "2020-01-13 13:29:33.711983",
  "subscription": "bcad92ba-78bc-4439-a44b-86e5f7a5ae07",
  "tenant": "72f988bf-86f1-41af-91ab-2d7cd011db47",
  "tokenType": "Bearer"
}
*/

/* From: C:\Users\sarsoma\.azure\accessTokens.json
"tokenType": "Bearer",
"expiresIn": 3599,
"expiresOn": "2020-01-13 12:12:28.822312",
"resource": "https://management.core.windows.net/",
"accessToken": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InBpVmxsb1FEU01LeGgxbTJ5Z3FHU1ZkZ0ZwQSIsImtpZCI6InBpVmxsb1FEU01LeGgxbTJ5Z3FHU1ZkZ0ZwQSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC80MTY4YmJkMS1mZWNkLTRiOWYtOGJjZS03OWI3NTFmMmMxY2YvIiwiaWF0IjoxNTc4OTQyNDQ5LCJuYmYiOjE1Nzg5NDI0NDksImV4cCI6MTU3ODk0NjM0OSwiYWNyIjoiMSIsImFpbyI6IkFVUUF1LzhPQUFBQU1HTDh1WUVlTGh6TWFyblMzRS9hazFMYjlNekgrWUo3NCsweHVkNCsxdkVjNnY1OUxwRFQ1UGRlaWhEbm45MU85MlRMZ2MvUlhxNldBeVBWYmFMV3RBPT0iLCJhbHRzZWNpZCI6IjE6bGl2ZS5jb206MDAwMzQwMDE5OTM5RjE5QiIsImFtciI6WyJwd2QiXSwiYXBwaWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJhcHBpZGFjciI6IjAiLCJlbWFpbCI6InNzb21hc3VuZGFyYW1AbGl2ZS5jb20iLCJmYW1pbHlfbmFtZSI6IlNvbWFzdW5kYXJhbSIsImdpdmVuX25hbWUiOiJzc29tYXN1bmRhcmFtQGxpdmUuY29tIiwiZ3JvdXBzIjpbIjQyMDJkM2JkLTY2NjUtNDA1MC05ODUwLTU3YTU4N2U0MjJiZSJdLCJpZHAiOiJsaXZlLmNvbSIsImlwYWRkciI6IjE2Ny4yMjAuMi4zOSIsIm5hbWUiOiJzc29tYXN1bmRhcmFtQGxpdmUuY29tIFNvbWFzdW5kYXJhbSIsIm9pZCI6IjUzNTFjNGRiLWNkNmEtNDFiYi1hZmZlLTYxZDI3YjgwYWExOSIsInB1aWQiOiIxMDAzMjAwMDRFMTAxQUExIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiSUJRaTBEMEg3RzZmRHZidFZXSEhOVXUxNUVJUFpQby1sTGU4aEdPZzU3ZyIsInRpZCI6IjQxNjhiYmQxLWZlY2QtNGI5Zi04YmNlLTc5Yjc1MWYyYzFjZiIsInVuaXF1ZV9uYW1lIjoibGl2ZS5jb20jc3NvbWFzdW5kYXJhbUBsaXZlLmNvbSIsInV0aSI6Iko0c3RGandKZEUteHphVG5BOFhaQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCJdfQ.ynV7iE-E8G4XtjXSj4Y8bA_V5WrctmZeyIAjJwMrOamF5UqF38cnRK_JYzZMrT9pclgBMr16HM9CJJVdeYoPHHUq_m6qp4VJvkbHQuMJtAV0rXATSubDhvwMqmgIm3DCiWTUxg8knFpmpisQ9l3EHI8Hn8g6Sn9fsHHZaNi4MoODKyqzhr5AYpb48alAI89hzNCefSK90DNFceQZc6N9uV_bvf28fuMbN391dGFZ3tyz25yZQRtxbw1zDCs1l1x53vgIV0F3KgS0a-_IpXx0AJ6iz6bHABgPPrDuk2xiZxyP7iYupGpZh7tS1evORJ93ERUqOYXhFn63RdcZj2ik_g",
"refreshToken": "AQABAAAAAABeAFzDwllzTYGDLh_qYbH815M1kcjEm_N_926cpxj1-nqNTTnbDjcSfMKrtr7xjk0yLNEjDxOaycg6gCRQtXWW5s21ZuznmhInrhxVbj5-At0tUF_DeL03n-uTOadrmlggRWpWoOYc1DCxMiH07aNIZU5XbC2Htsk6H4tSj2kP2AhFmUbIs8PBiKdNnx0CCaenA57xBzmSZPgLaYt76AbI15YMyp8UV2YziRhE3rjseanMv2IT1IRzjU3mNpTp0UjDLYsplagOdTCCsp3nKeoD5O24VYswypE_TMEHE_aNG3TGcKws2aAuK80zYKS6xSVEd_fHqnGlMU7Jp4ETQdL7PvKhmuqIQPG8vIBBxilC12pZp6MfJrx_1PQY5g3zMO7B8N3TafBloPRs-_UxoWz52axLx2v--2_9fNE1n2z2ET33doF8Ijfe8UoY74UiWj0nF6rhRSX5yDAQSVYQj2tRw7A-E5DXHrAESMszi7nztvP_34V_P-zHM-U4f0hKLXDycPwfr6jyZeZ-JiZwu7aPsJctXNBIuzjAuOB5DXuama5dMqnCWFgxrnXuqQEREGuztMR5r1-QtMQgKmv10eLxG3Gt_FAoL6I-WpvP27hAQPiM1RTsQXZE-Xk_q2Y1banUJsYniUBbunQxgU4BUWGgzxI5iTZVvlErXpPF2nQgUrP4slY1ENBS7uJnQ4djIiQZiTtFkJquvd3ka9Rt0Zs9m-aK1PWTFpD3bOeTmNf2f5lbzE-mjupU9HtKTTI-w0UTLRnjm7s_UUI65mXgvhEUVih_nvIrwl8VxofVHuEv_IqHr7Bk_oyNDh5g6ymS3DIRI1nSv9TfsKnVL6x4zb0rbtKrrVX9-9O8OAQ8EVsYSd2IERZL50Dv8_C-c4nHu9348B4VT0peEIgvNWFNY2ZLiuxKtG579S8WRpF4C7fcbf_08I24sxul4HbHak5j2DbtxMI6KZFFJLBZBxtS4x-RtfS0795xpyxBA2DuvxO2nmniILsQu39Iuu7ZrXmVp6luUrCfM0bhoThhVb75y2NmgLH6hN-KDETGWcQoVC_8J70MIpu9ZqZ5rCU6-6NcKxM5DhU17s4eIe2bAw2gCGdzkrP9wH7nzwHm1urN6N8NkkDUbVNjw48OZObRXpIDX6Hkvpp6IFarm99LuI2I_qx-9APviWohZym4FOa__2WH15iyiw-8kQKeoKIxCz98lIoY7qd2Q5VfjZ1RyqcVvni_KlQIvCLulvG3FqJVDuBGVNUJ6xcV2GPWrU_YWcQAzG7hvlbqTGFCMef6Z5Mow7-WWxStguAUKDcTY7PHdcKKd_1r9WiareAo3svODLfmGAYDNNZNTgTitPucPK9rZELmNNvPwDJMWRXe_w6-zzUPucnaf0e4_gDmcK3KYTk52ScgAA",
"identityProvider": "live.com",
"userId": "ssomasundaram@live.com",
"isMRRT": true,
"_clientId": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
"_authority": "https://login.microsoftonline.com/4168bbd1-fecd-4b9f-8bce-79b751f2c1cf"
 */
